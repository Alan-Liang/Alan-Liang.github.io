<!DOCTYPE html>
<html>
<head>
<title>euclidean</title>
<style>
body{
background:#233666;
color:#dccaaa;
font-size:40px;
}
h1{
font-size:70px;
text-align:center;
}
.button{
font-size:150px;
border:5px solid #a99777;
border-radius:30px;
text-align:center;
}
.playbutton{
color:#011444;
background:#877555;
}
.hidden{
display:none;
}
input{
font-size:50px;
height:55px;
width:30%;
}
button{
font-size:50px;
height:55px;
width:15%;
}
#ea,#eea{
width:48%;
height:1000px;
}
</style>
<script language="fk">
alert(parseInt('12.78'));
</script>
</head>
<body>
a:<input id="a">
b:<input id="b">
<button>yes!</button>
<br />
<h1>answer:</h1>


<textarea id="ea">
</textarea>
<textarea id="eea">
</textarea>



<script>
try{
function $(a){
return document.querySelectorAll(a);
}

function euclidean(a,b){
a=parseInt(a+'');
b=parseInt(b+'');
if(a>0&&b>0){}else return;
//make sure that a <= b//
if(a<b){
var t=a;
a=b;
b=t;
}
this.a=a;
this.b=b;
var EA,EEA,EData;
EA=[];
EEA=[];
EData=[];
var flag=false;
while(!flag){
var c,x;
if(a>b)
   x=parseInt(a/b+'');
else
   x=0;
c=a-x*b;
EA.push(a+"="+x+"*"+b+"+"+c);
if(c!=0){
   EEA.push(
      c+"="+(-x)+"*"+b+
      "+1*"+a);
   EData.push([a,b,c,x]);
}
//alert([a,b,c,x]);
if(c==0)flag=true;
a=b;
b=c;
}
var gcd=EData[EData.length-1][2];
//alert(gcd);

//current equation stat//
var b,c,x,y,lst;
//a=xb+yc//
lst=EData[EData.length-1];
b=lst[1];
c=lst[0];
x=-lst[3];
y=1;

for(var t=0;t<EData.length;t++){
var i=EData.length-t-2;
var d=EData[i];
if(!d)break;
EEA.push(gcd+'='+x+'*('+(-d[3])+'*'+d[1]+'+1*'+d[
0]+')+'+y+'*'+c);
EEA.push(gcd+'='+(-x*d[3])+'*'+d[1]+'+'+x+'*'+d[0]+'+'+y+'*'+c);
EEA.push(gcd+'='+(-x*d[3]+y)+'*'+c+'+'+ x+'*'+d[0]);
var ty=y;
y=x;
x=(-x*d[3]+ty);
b=c;
c=d[0];
}
var rt={};
rt.EA=EA;
rt.EEA=EEA;
rt.EData=EData;
return rt;
}

var btListener=function(){
var ans=euclidean($('#a')[0].value,$('#b')[0].value);
$('#ea')[0].innerHTML=ans.EA.join('\n');
$('#eea')[0].innerHTML=ans.EEA.join('\n');
//alert(ans);
}

$('button')[0].addEventListener('click',btListener);

}catch(e){
alert(e);
}

setTimeout(function(){window.scrollTo(0,1);},100);
</script>
</body>
</html>
